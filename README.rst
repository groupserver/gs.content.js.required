==========================
``gs.content.js.required``
==========================
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Make required widgets actually required
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

:Author: `Michael JasonSmith`_
:Contact: Michael JasonSmith <mpj17@onlinegroups.net>
:Date: 2013-05-17
:Organization: `GroupServer.org`_
:Copyright: This document is licensed under a
  `Creative Commons Attribution-Share Alike 3.0 New Zealand License`_
  by `OnlineGroups.Net`_.

Introduction
============

This product provides a JavaScript resource_ to prevent a form from being
submitted if the required widgets are not filled out. The JavaScript is
activated if the requisite markup_ is present.

Resource
========

This product provides a JavaScript module as a Zope_ `browser
resource`_. Any Zope or Plone_ project should be able to use this product
as-is by placing the following line in a page template::

  <script type="text/javascript" 
          src="/++resource++gs-content-js-required-20130517.js" 
          defer="true"> </script>     

Users of other systems are invited to copy the file
``gs/content/js/required/browser/javascript/required.js`` out of this
product. 

A minified version of the script is available, too::

  <script type="text/javascript" 
          src="/++resource++gs-content-js-required-min-20130517.js" 
          defer="true"> </script>     

Markup
======

The markup that triggers the required-widgets JavaScript is in three parts:
the form, the widgets, and the button.

#.  The form should have the class ``gs-content-js-required``::

      <form id="login-form" class="gs-content-js-required"
            tal:attributes="action request/URL">

#.  Widgets that are required should have the class ``required``
    surrounding the ``div``::

      <div id="login-id-widget" class="form-widget required">
        <label class="text" for="login">Email Address</label>
        <input id="login" name="login" class="textType" type="text" 
               value="" title="Enter your email address here" />
      </div><!--login-id-widget-->

    This is automatically done by widgets generated by ``zope.formlib``.

#.  If there is only one button on the form, or all buttons on the form
    need to be locked, then nothing else has to be done. The button will be
    disabled until all the required widgets are filled out. If there are
    multiple buttons then the buttons to lock can be specified in the
    ``data-required-buttons`` attribute of the form::

      <form data-required-buttons="#form\.add"

Resources
=========

- Code repository: https://source.iopen.net/groupserver/gs.content.js.required/
- Questions and comments to http://groupserver.org/groups/development/
- Report bugs at https://redmine.iopen.net/projects/groupserver/

.. _GroupServer: http://groupserver.org/
.. _GroupServer.org: http://groupserver.org/
.. _OnlineGroups.Net: https://onlinegroups.net
.. _Michael JasonSmith: http://groupserver.org/p/mpj17
.. _Creative Commons Attribution-Share Alike 3.0 New Zealand License:
   http://creativecommons.org/licenses/by-sa/3.0/nz/
.. _Zope: http://zope.org/
.. _formlib: http://docs.zope.org/zope.formlib/
.. _browser resource: http://docs.zope.org/zope.browserresource/
.. _Plone: http://plone.org
.. _jQuery: http://jquery.com/

.. LocalWords:  jQuery UI Plone minified
